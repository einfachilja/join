<!-- add-task.html -->
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join | Add Task</title>
    <!-- base styles -->
    <link rel="stylesheet" href="./style.css" />
    <!-- help styles -->
    <link rel="stylesheet" href="./styles/help.css" />
    <!-- add-task only -->
    <link rel="stylesheet" href="./styles/add-task.css" />
    <link rel="stylesheet" href="./styles/fonts.css" />
    <link
      rel="shortcut icon"
      href="./assets/icons/favicon.svg"
      type="image/x-icon"
    />
  </head>

  <body onclick="closeDropdown()">
    <div class="body">
      <div class="desktop-menu">
        <div><img class="logo" src="./assets/img/logo.svg" alt="logo" /></div>
        <div class="menu">
          <a href="./summary.html"
            ><button>
              <img src="./assets/icons/summary.svg" alt="" />
              <p>Summary</p>
            </button></a
          >
          <a href="./add-task.html"
            ><button class="active">
              <img src="./assets/icons/add-task.svg" alt="" />
              <p>Add Task</p>
            </button></a
          >
          <a href="./board.html"
            ><button>
              <img src="./assets/icons/board.svg" alt="" />
              <p>Board</p>
            </button></a
          >
          <a href="./contacts.html"
            ><button>
              <img src="./assets/icons/contacts.svg" alt="" />
              <p>Contacts</p>
            </button></a
          >
        </div>
        <div class="desktop-footer">
          <div class="desktop-footer-content">
            <a href="./Privacy-Policy.html"
              ><button>
                <p>Privacy Policy</p>
              </button></a
            >
            <a href="./legal-notice.html"
              ><button>
                <p>Legal notice</p>
              </button></a
            >
          </div>
        </div>
      </div>

      <div class="body-right">
        <div class="header">
          <span class="header-title">Kanban Project Management Tool</span>
          <img
            class="logo-mobile"
            src="./assets/icons/favicon.svg"
            alt="logo"
          />
          <div class="header-right">
            <div onclick="openSubMenu()" class="user-profile"><b>SM</b></div>
            <a class="help-img" href="./help.html"
              ><img src="./assets/img/help.svg" alt=""
            /></a>
          </div>
        </div>
        <div id="sub_menu" class="d_none sub_menu">
          <a href="./legal-notice.html">
            <p class="sub-menu-content">Legal Notice</p>
          </a>
          <a href="./Privacy-Policy.html">
            <p class="sub-menu-content">Privacy Policy</p>
          </a>
          <a href="./log-in.html">
            <p class="sub-menu-content">Log out</p>
          </a>
        </div>

        <main class="main">
          <div class="add-task-modal">
            <h2>Add Task</h2>
            <form id="taskForm" onsubmit="return false;">
              <div class="form-cols">
                <!-- left column -->
                <div class="col-left">
                  <label for="title">Title*</label>
                  <input
                    id="title"
                    type="text"
                    placeholder="e.g. Build UI"
                    onchange="toggleCreateBtn()"
                  />

                  <label for="description">Description</label>
                  <textarea
                    id="description"
                    placeholder="e.g. Implement form validations"
                  ></textarea>

                  <label for="dueDate">Due Date*</label>
                  <input
                    id="dueDate"
                    class="date-input"
                    type="date"
                    placeholder="DD/MM/YYYY"
                    onblur="validateDate(); toggleCreateBtn();"
                  />
                </div>

                <!-- right column -->
                <div class="col-right">
                  <label>Priority</label>
                  <div id="buttons-prio" class="priority-buttons">
                    <button
                      id="urgent"
                      class="button-prio priority-hover"
                      type="button"
                      onclick="setPriority('urgent')"
                    >
                      Urgent
                      <img
                        id="icon-urgent"
                        src="assets/icons/urgent.svg"
                        alt="urgent icon"
                      />
                    </button>
                    <button
                      id="medium"
                      class="button-prio medium selected"
                      type="button"
                      onclick="setPriority('medium')"
                    >
                      Medium
                      <img
                        id="icon-medium"
                        class="icon-selected"
                        src="assets/icons/medium.svg"
                        alt="medium icon"
                      />
                    </button>
                    <button
                      id="low"
                      class="button-prio priority-hover"
                      type="button"
                      onclick="setPriority('low')"
                    >
                      Low
                      <img
                        id="icon-low"
                        src="assets/icons/low.svg"
                        alt="low icon"
                      />
                    </button>
                  </div>

                  <label>Assigned to</label>
                  <div class="dropdown" onclick="toggleDropdown(event)">
                    <div id="assignedLabel">
                      Select contacts
                      <span class="dropdown-arrow">âŒ„</span>
                    </div>
                    <ul id="assignedList" class="hidden"></ul>
                  </div>

                  <label for="category">Category*</label>
                  <div class="select-wrapper">
                    <select id="category" onchange="toggleCreateBtn()">
                      <option value="" disabled selected>Select</option>
                      <option value="User Story">User Story</option>
                      <option value="Technical Task">Technical Task</option>
                    </select>
                  </div>

                  <label>Subtasks</label>
                  <div class="subtask-input">
                    <input
                      id="subtaskInput"
                      type="text"
                      placeholder="Add new subtask"
                      onkeypress="if(event.key==='Enter'){ addSubtask(); toggleCreateBtn(); event.preventDefault(); }"
                    />
                    <button
                      type="button"
                      onclick="addSubtask(); toggleCreateBtn()"
                    >
                      +
                    </button>
                  </div>
                  <ul id="subtaskList"></ul>
                </div>
              </div>

              <div class="form-actions">
                <button type="button" onclick="history.back()">Cancel</button>
                <button
                  id="createBtn"
                  type="button"
                  disabled
                  onclick="createTask()"
                >
                  Create Task
                </button>
              </div>
            </form>
          </div>
        </main>
        <footer>
          <div class="mobile-menu">
            <button>
              <a href="./summary.html">
                <img src="./assets/icons/summary.svg" alt="" />
                <p>Summary</p>
              </a>
            </button>

            <button>
              <a href="./add-task.html" class="active">
                <img src="./assets/icons/add-task.svg" alt="" />
                <p>Add Task</p>
              </a>
            </button>

            <button>
              <a href="./board.html">
                <img src="./assets/icons/board.svg" alt="" />
                <p>Board</p>
              </a>
            </button>

            <button>
              <a href="./contacts.html">
                <img src="./assets/icons/contacts.svg" alt="" />
                <p>Contacts</p>
              </a>
            </button>
          </div>
        </footer>
      </div>
    </div>

    <script src="./scripts/desktop-template.js"></script>
    <script src="./scripts/add-task.js"></script>
    <script src="./scripts/help.js"></script>
  </body>
</html>
