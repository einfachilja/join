<!-- add-task.html -->
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Add Task | Join</title>
  <!-- Grund-Layout -->
  <link rel="stylesheet" href="./styles/template.css"/>
  <!-- Add-Task-spezifisch -->
  <link rel="stylesheet" href="./styles/add-task.css"/>
  <link rel="shortcut icon" href="./assets/img/logo.svg" type="image/svg+xml"/>
</head>
<body>
  <div class="body">
    <!-- Sidebar -->
    <div class="desktop-menu">
      <img class="logo" src="./assets/img/logo.svg" alt="Join-Logo"/>
      <nav class="menu">
        <a href="./summary.html"><button><img src="./assets/icons/summary.svg"/><p>Summary</p></button></a>
        <a href="./add-task.html"><button class="active"><img src="./assets/icons/add-task.svg"/><p>Add Task</p></button></a>
        <a href="./board.html"><button><img src="./assets/icons/board.svg"/><p>Board</p></button></a>
        <a href="./contacts.html"><button><img src="./assets/icons/contacts.svg"/><p>Contacts</p></button></a>
      </nav>
      <div class="desktop-footer">
        <a href="./Privacy-Policy.html"><p>Privacy Policy</p></a>
        <a href="./legal-notice.html"><p>Legal Notice</p></a>
      </div>
    </div>

    <!-- Hauptbereich -->
    <div class="body-right">
      <header class="header">
        <span>Kanban Project Management Tool</span>
        <div class="header-right">
          <div onclick="openSubMenu()" class="user-profile">SM</div>
          <a href="./help.html"><img src="./assets/img/help.svg" alt="Hilfe"/></a>
        </div>
      </header>
      <div id="sub_menu" class="sub_menu d_none">
        <a href="./legal-notice.html"><p>Legal Notice</p></a>
        <a href="./Privacy-Policy.html"><p>Privacy Policy</p></a>
        <a href="./register.html"><p>Log Out</p></a>
      </div>

      <main class="main">
        <div class="add-task-modal">
          <h2>Add Task</h2>
          <form id="taskForm" onsubmit="return false;">
            <div class="form-cols">
              <!-- linke Spalte -->
              <div class="col-left">
                <label for="title">Title*</label>
                <input id="title" type="text" placeholder="e.g. Build UI" onchange="toggleCreateBtn()"/>

                <label for="description">Description</label>
                <textarea id="description" placeholder="e.g. Implement form validations"></textarea>

                <label for="dueDate">Due Date*</label>
                <input id="dueDate" type="text" placeholder="DD/MM/YYYY"
                       onblur="validateDate(); toggleCreateBtn();"/>
              </div>

              <!-- rechte Spalte -->
              <div class="col-right">
                <label>Priority</label>
                <div id="prioGroup">
                  <button type="button" data-value="urgent" onclick="setPriority('urgent')">Urgent</button>
                  <button type="button" data-value="medium" class="active" onclick="setPriority('medium')">Medium</button>
                  <button type="button" data-value="low" onclick="setPriority('low')">Low</button>
                </div>

                <label>Assigned to</label>
                <div class="dropdown" onclick="toggleDropdown(event)">
                  <div id="assignedLabel">Select contacts</div>
                  <ul id="assignedList" class="hidden"></ul>
                </div>

                <label for="category">Category*</label>
                <select id="category" onchange="toggleCreateBtn()">
                  <option value="" disabled selected>Select</option>
                  <option value="User Story">User Story</option>
                  <option value="Technical Task">Technical Task</option>
                </select>

                <label>Subtasks</label>
                <div class="subtask-input">
                  <input id="subtaskInput" type="text" placeholder="Add new subtask"
                         onkeypress="if(event.key==='Enter'){ addSubtask(); toggleCreateBtn(); event.preventDefault(); }"/>
                  <button type="button" onclick="addSubtask(); toggleCreateBtn()">+</button>
                </div>
                <ul id="subtaskList"></ul>
              </div>
            </div>

            <div class="form-actions">
              <button type="button" onclick="history.back()">Cancel</button>
              <button id="createBtn" type="button" disabled onclick="createTask()">Create Task</button>
            </div>
          </form>
        </div>
      </main>
    </div>
  </div>

  <!-- Scripts -->
  <script src="./scripts/desktop-template.js"></script>
  <script src="./scripts/add-task.js"></script>
</body>
</html>
